<!DOCTYPE html>
<html>
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1">
   <!-- Change this to be a local version of bootstrap -->
   <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/external/bootstrap/bootstrap-3.4.1/bootstrap.css') }}"> 
   <!-- Decorative cursive font for the OR pill -->
   <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
      <style>@import url("static/css/style.css");</style>
   </head>
   <body>
      <div class="bg-img">
             <form method="post" class="centered-container">
                        <style>
                            /* page-scoped responsive spacing for the input / enter / create stack */
                            /* remove per-element margins and let .action-stack control spacing so OR centers evenly */
                            .stack-gap-enter { margin-top: 0; }
                            .stack-gap-create { margin-top: 0; }

                            /* page-scoped primary button style (used by Create + About link) */
                            .fp-btn {
                               padding: 8px 14px;
                               font-size: 0.95rem;
                               border-radius: 6px;
                               background: rgba(212,234,157,1);
                               color: #1a1a1a;
                               border: 1px solid rgba(0,0,0,0.08);
                               cursor: pointer;
                               transition: transform 120ms ease, box-shadow 120ms ease, background 120ms ease;
                               display: inline-block;
                               text-decoration: none;
                            }
                            .fp-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 18px rgba(0,0,0,0.12); background: rgba(200,224,137,1); }
                            .fp-btn:focus { outline: 3px solid rgba(212,234,157,0.25); transform: translateY(-3px); box-shadow: 0 6px 18px rgba(0,0,0,0.12); outline-offset: 2px; }

                            /* enter arrow button + image */
                            .enter-btn { background: transparent; border: none; padding: 0; display: inline-flex; align-items: center; justify-content: center; }
                .enter-btn img { width: 72px; height: 72px; object-fit: contain; display: block; transform: translateY(0); }

                                        /* OR pill between buttons */
                                       .action-stack { display:flex; flex-direction:column; align-items:center; gap:2px; }
                                        .or-pill {
                                           display: inline-block;
                                           padding: 4px 14px;
                                           border-radius: 999px;
                                           background: rgba(255,255,255,0.95);
                                           color: #444;
                                           font-weight: 600;
                                           letter-spacing: 1.5px;
                                           font-variant: small-caps;
                                           box-shadow: 0 1px 0 rgba(0,0,0,0.02);
                                           border: 1px solid rgba(0,0,0,0.04);
                                           font-family: 'Dancing Script', cursive;
                                           font-size: 1.05rem;
                                           transform: translateY(-8px);
                                        }

                                     @media (max-width: 480px) {
                                                    .stack-gap-enter { margin-top: 0; }
                                                    .stack-gap-create { margin-top: 0; }
                               .enter-btn img { width: 64px; height: 64px; }
                               .fp-btn { font-size: 1.05rem; padding: 6px 18px; }
                                     .or-pill { padding: 2px 10px; font-size: 0.95rem; }
                                                    .action-stack { gap: 0; }
                                                 }
                            @media (min-width: 900px) {
                                                    .stack-gap-enter { margin-top: 0; }
                                                    .stack-gap-create { margin-top: 0; }
                               .enter-btn img { width: 86px; height: 86px; }
                                                    .action-stack { gap: 4px; }
                            }
                        </style>
            <div class="text-center">
               <img src="{{ url_for('static', filename='images/inline_logo.png') }}" alt="Logo" style="width: 380px; height: auto;">
            </div>
                           <div style="display:flex; align-items:center; gap:14px; justify-content:center; margin-bottom:-8px;">
                                             <input id="user_id" type="text" name="user_id" placeholder="Enter numeric Meal Plan ID" autocomplete="off" inputmode="numeric" pattern="\d*" aria-label="Meal Plan ID" 
                                                oninput="this.value = this.value.replace(/\D/g,'')" 
                                                onpaste="(function(e){e.preventDefault(); var txt=(e.clipboardData||window.clipboardData).getData('text'); this.value=txt.replace(/\D/g,'') }).call(this,event)"
                                                style="flex:0 0 68%; max-width:420px; padding:8px 16px; font-size:1.15rem; border-radius:8px; height:38px; box-sizing:border-box;">
                           </div>
                           <div class="action-stack" style="width:100%;">
                              <div class="stack-gap-enter" style="text-align:center; margin-top:0;">
                                 <button type="submit" name="submit_button" value="enter" aria-label="Enter Meal Plan" class="enter-btn">
                                   <img src="{{ url_for('static', filename='images/arrow.png') }}" alt="Enter">
                                 </button>
                              </div>
                              <div style="text-align:center;">
                                 <span class="or-pill" aria-hidden="true">OR</span>
                              </div>
                              <div class="stack-gap-create" style="text-align:center;">
                                 <button class="fp-btn" name="submit_button" type="submit" value="new">Create new Meal Plan ID</button>
                              </div>
                              <div style="text-align:center; margin-top:8px;">
                                 <a class="fp-btn" href="{{ url_for('login') }}" role="button" aria-label="Sign in with Google">Sign in with Google</a>
                              </div>
                           </div>
         </form>
          <div style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);">
            <div class="text-center">
                     <a href="{{ url_for('about') }}" class="fp-btn" role="button">What's foodu8.com?</a>
            </div>
          </div>
         {% block content %} {% endblock %}
         {% for error, message in get_flashed_messages(with_categories=true) %}
         <div class="alert alert-danger alert-dismissible fade in text-center">{{ message }}</div>
         {% endfor %}
      </div>
   </body>
</html>