<!DOCTYPE html>
<html>
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1">
   <!-- Change this to be a local version of bootstrap -->
   <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/external/bootstrap/bootstrap-3.4.1/bootstrap.css') }}"> 
   <!-- Decorative cursive font for the OR pill -->
   <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
      <style>@import url("static/css/style.css");</style>
   </head>
   <body>
      <div class="bg-img">
             <form method="post" class="centered-container">
                        <style>
                            /* page-scoped responsive spacing for the input / enter / create stack */
                            /* remove per-element margins and let .action-stack control spacing so OR centers evenly */
                            .stack-gap-enter { margin-top: 0; }
                            .stack-gap-create { margin-top: 0; }

                            /* page-scoped primary button style (used by Create + About link) */
                            .fp-btn {
                               padding: 8px 14px;
                               font-size: 0.95rem;
                               border-radius: 6px;
                               background: rgba(212,234,157,1);
                               color: #1a1a1a;
                               border: 1px solid rgba(0,0,0,0.08);
                               cursor: pointer;
                               transition: transform 120ms ease, box-shadow 120ms ease, background 120ms ease;
                               display: inline-block;
                               text-decoration: none;
                            }
                            .fp-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 18px rgba(0,0,0,0.12); background: rgba(200,224,137,1); }
                            .fp-btn:focus { outline: 3px solid rgba(212,234,157,0.25); transform: translateY(-3px); box-shadow: 0 6px 18px rgba(0,0,0,0.12); outline-offset: 2px; }

                            /* Google Sign-in Button */
                            .google-btn {
                                display: inline-flex;
                                align-items: center;
                                justify-content: center;
                                background-color: #fff;
                                color: #757575;
                                border: 1px solid #dadce0;
                                border-radius: 4px;
                                font-family: 'Roboto', sans-serif;
                                font-size: 14px;
                                font-weight: 500;
                                padding: 0 12px;
                                height: 40px;
                                text-decoration: none;
                                transition: background-color .3s, box-shadow .3s;
                                box-shadow: 0 1px 2px 0 rgba(60,64,67,0.3), 0 1px 3px 1px rgba(60,64,67,0.15);
                            }
                            .google-btn:hover {
                                box-shadow: 0 1px 3px 0 rgba(60,64,67,0.3), 0 4px 8px 3px rgba(60,64,67,0.15);
                                background-color: #f8f9fa;
                                border-color: #c6c9ce;
                                color: #202124;
                            }
                            .google-btn:focus {
                                outline: none;
                                box-shadow: 0 0 0 3px rgba(66,133,244,0.4);
                            }
                            .google-btn .google-icon-wrapper {
                                margin-right: 12px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                            }
                            .google-btn .google-icon {
                                width: 18px;
                                height: 18px;
                            }

                            /* enter arrow button + image */
                            .enter-btn { background: transparent; border: none; padding: 0; display: inline-flex; align-items: center; justify-content: center; }
                .enter-btn img { width: 72px; height: 72px; object-fit: contain; display: block; transform: translateY(0); }

                                        /* OR pill between buttons */
                                       .action-stack { display:flex; flex-direction:column; align-items:center; gap:2px; }
                                        .or-pill {
                                           display: inline-block;
                                           padding: 4px 14px;
                                           border-radius: 999px;
                                           background: rgba(255,255,255,0.95);
                                           color: #444;
                                           font-weight: 600;
                                           letter-spacing: 1.5px;
                                           font-variant: small-caps;
                                           box-shadow: 0 1px 0 rgba(0,0,0,0.02);
                                           border: 1px solid rgba(0,0,0,0.04);
                                           font-family: 'Dancing Script', cursive;
                                           font-size: 1.05rem;
                                           transform: translateY(-8px);
                                        }

                                     @media (max-width: 480px) {
                                                    .stack-gap-enter { margin-top: 0; }
                                                    .stack-gap-create { margin-top: 0; }
                               .enter-btn img { width: 64px; height: 64px; }
                               .fp-btn { font-size: 1.05rem; padding: 6px 18px; }
                                     .or-pill { padding: 2px 10px; font-size: 0.95rem; }
                                                    .action-stack { gap: 0; }
                                                 }
                            @media (min-width: 900px) {
                                                    .stack-gap-enter { margin-top: 0; }
                                                    .stack-gap-create { margin-top: 0; }
                               .enter-btn img { width: 86px; height: 86px; }
                                                    .action-stack { gap: 4px; }
                            }
                        </style>
            <div class="text-center">
               <img src="{{ url_for('static', filename='images/inline_logo.png') }}" alt="Logo" style="width: 380px; height: auto;">
            </div>
                           <div style="display:flex; align-items:center; gap:14px; justify-content:center; margin-bottom:-8px;">
                                             <input id="user_id" type="text" name="user_id" placeholder="Enter numeric Meal Plan ID" autocomplete="off" inputmode="numeric" pattern="\d*" aria-label="Meal Plan ID" 
                                                oninput="this.value = this.value.replace(/\D/g,'')" 
                                                onpaste="(function(e){e.preventDefault(); var txt=(e.clipboardData||window.clipboardData).getData('text'); this.value=txt.replace(/\D/g,'') }).call(this,event)"
                                                style="flex:0 0 68%; max-width:420px; padding:8px 16px; font-size:1.15rem; border-radius:8px; height:38px; box-sizing:border-box;">
                           </div>
                           <div class="action-stack" style="width:100%;">
                              <div class="stack-gap-enter" style="text-align:center; margin-top:0;">
                                 <button type="submit" name="submit_button" value="enter" aria-label="Enter Meal Plan" class="enter-btn">
                                   <img src="{{ url_for('static', filename='images/arrow.png') }}" alt="Enter">
                                 </button>
                              </div>
                              <div style="text-align:center;">
                                 <span class="or-pill" aria-hidden="true">OR</span>
                              </div>
                              <div style="text-align:center; margin-top:8px;">
                                 <a href="{{ url_for('login') }}" class="google-btn" role="button" aria-label="Sign in with Google">
                                     <div class="google-icon-wrapper">
                                         <svg class="google-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48px" height="48px"><path fill="#4285F4" d="M24 9.5c3.9 0 6.9 1.6 9.1 3.7l6.9-6.9C35.4 2.1 30.1 0 24 0 14.9 0 7.3 5.5 4.1 13.3l7.4 5.8C13.4 13.3 18.2 9.5 24 9.5z"/><path fill="#34A853" d="M46.2 25.1c0-1.6-.1-3.2-.4-4.7H24v9h12.5c-.6 3-2.2 5.6-4.8 7.3l7.3 5.7c4.3-4 6.9-9.8 6.9-16.8.1-.1 0-.2 0-.5z"/><path fill="#FBBC05" d="M11.5 28.6c-.4-1.2-.7-2.5-.7-3.9s.3-2.7.7-3.9l-7.4-5.8C1.4 18.8 0 22.3 0 26.3s1.4 7.5 3.9 10.5l7.6-5.7z"/><path fill="#EA4335" d="M24 48c6.5 0 11.9-2.1 15.9-5.7l-7.3-5.7c-2.1 1.4-4.8 2.3-7.9 2.3-5.8 0-10.7-3.8-12.5-9l-7.4 5.8C7.3 42.5 14.9 48 24 48z"/><path fill="none" d="M0 0h48v48H0z"/></svg>
                                     </div>
                                     <span>Sign in with Google</span>
                                 </a>
                              </div>
                           </div>
         </form>
          <div style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);">
            <div class="text-center">
                     <a href="{{ url_for('about') }}" class="fp-btn" role="button">What's foodu8.com?</a>
            </div>
          </div>
         {% block content %} {% endblock %}
         {% for error, message in get_flashed_messages(with_categories=true) %}
         <div class="alert alert-danger alert-dismissible fade in text-center">{{ message }}</div>
         {% endfor %}
      </div>
   </body>
</html>